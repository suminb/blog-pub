<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>WordPress 에서 Jekyll 로</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>

    <meta property="og:type" content="artitle"/>
    <meta property="og:url" content="http://philosophical.one/posts/goodbye-wordpress-hello-jekyll/"/>
    <meta property="og:title" content="WordPress 에서 Jekyll 로"/>
    <meta property="og:description" content=""/>
    <meta property="og:image" content="http://philosophical.one"/>
    <meta property="og:image_source" content=""/>

    <link rel="canonical" href="http://philosophical.one/posts/goodbye-wordpress-hello-jekyll/"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css"/>

</head>


    <body>

    <header class="site-header">

  <div class="wrap">
    <a class="site-title" href="/">Rubbish Philosopher</a>
    <!--
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a class="page-link" href="/feed.xml"></a>
        
          <a class="page-link" href="/"></a>
        
          <a class="page-link" href="/archives/57/"></a>
        
          <a class="page-link" href="/post/memory-allocation"></a>
        
          <a class="page-link" href="/archives/4/"></a>
        
          <a class="page-link" href="/post/the-devil-code"></a>
        
          <a class="page-link" href="/archives/71/"></a>
        
          <a class="page-link" href="/post/jsp-custom-tag"></a>
        
          <a class="page-link" href="/archives/136/"></a>
        
          <a class="page-link" href="/post/object-serialization"></a>
        
          <a class="page-link" href="/archives/300/"></a>
        
          <a class="page-link" href="/post/convert-from-javautildate-to-javasqldate"></a>
        
          <a class="page-link" href="/archives/301/"></a>
        
          <a class="page-link" href="/post/javabeans"></a>
        
          <a class="page-link" href="/archives/303/"></a>
        
          <a class="page-link" href="/post/java-socket-programming-basics"></a>
        
          <a class="page-link" href="/archives/306/"></a>
        
          <a class="page-link" href="/post/thoughts-about-iterator-pattern"></a>
        
          <a class="page-link" href="/archives/310/"></a>
        
          <a class="page-link" href="/post/exccesive-constants"></a>
        
          <a class="page-link" href="/archives/336/"></a>
        
          <a class="page-link" href="/post/advantages-of-link-over-copying"></a>
        
          <a class="page-link" href="/archives/353/"></a>
        
          <a class="page-link" href="/post/hangul-jaso"></a>
        
          <a class="page-link" href="/archives/375/"></a>
        
          <a class="page-link" href="/post/hangul-syllable-manipulation"></a>
        
          <a class="page-link" href="/archives/378/"></a>
        
          <a class="page-link" href="/post/selectquery"></a>
        
          <a class="page-link" href="/archives/425/"></a>
        
          <a class="page-link" href="/post/delegating-math-homework-to-computer"></a>
        
          <a class="page-link" href="/archives/420/"></a>
        
          <a class="page-link" href="/post/linux-system-in-danger"></a>
        
          <a class="page-link" href="/archives/552/"></a>
        
          <a class="page-link" href="/post/changing-order-of-operators"></a>
        
          <a class="page-link" href="/archives/555/"></a>
        
          <a class="page-link" href="/post/my-first-assembly-program"></a>
        
          <a class="page-link" href="/archives/558/"></a>
        
          <a class="page-link" href="/post/base62"></a>
        
          <a class="page-link" href="/archives/598/"></a>
        
          <a class="page-link" href="/post/bubble-sort"></a>
        
          <a class="page-link" href="/archives/597/"></a>
        
          <a class="page-link" href="/post/logn"></a>
        
          <a class="page-link" href="/archives/600/"></a>
        
          <a class="page-link" href="/post/dynamic-class-loading-in-java"></a>
        
          <a class="page-link" href="/archives/614/"></a>
        
          <a class="page-link" href="/post/longest-common-subsequence"></a>
        
          <a class="page-link" href="/archives/659/"></a>
        
          <a class="page-link" href="/post/php-timer"></a>
        
          <a class="page-link" href="/archives/683/"></a>
        
          <a class="page-link" href="/post/how-to-return-multiple-variables-in-c-cpp"></a>
        
          <a class="page-link" href="/archives/693/"></a>
        
          <a class="page-link" href="/post/command-line-based-ogg-to-mp3-converter-on-mac-os-x"></a>
        
          <a class="page-link" href="/archives/701/"></a>
        
          <a class="page-link" href="/post/determining-where-a-bash-shell-script-is-located"></a>
        
          <a class="page-link" href="/archives/894/"></a>
        
          <a class="page-link" href="/post/getting-the-value-of-pi-using-python"></a>
        
          <a class="page-link" href="/archives/911/"></a>
        
          <a class="page-link" href="/post/calculation-of-pi-using-python-with-multithreading"></a>
        
          <a class="page-link" href="/archives/1007/"></a>
        
          <a class="page-link" href="/post/grocery-store-club-card-imitation"></a>
        
          <a class="page-link" href="/archives/1179/"></a>
        
          <a class="page-link" href="/post/mounting-remote-filesystem-over-ssh"></a>
        
          <a class="page-link" href="/archives/1119/"></a>
        
          <a class="page-link" href="/post/permutation-generation"></a>
        
          <a class="page-link" href="/archives/1196/"></a>
        
          <a class="page-link" href="/post/finding-gram-matrix"></a>
        
          <a class="page-link" href="/archives/1200/"></a>
        
          <a class="page-link" href="/post/languages-of-the-year-2009"></a>
        
          <a class="page-link" href="/archives/1222/"></a>
        
          <a class="page-link" href="/post/programming-contest-4-function-calculator"></a>
        
          <a class="page-link" href="/archives/1230/"></a>
        
          <a class="page-link" href="/post/hanja-hanguel-translator"></a>
        
          <a class="page-link" href="/archives/1236/"></a>
        
          <a class="page-link" href="/post/python-ternary-operator"></a>
        
          <a class="page-link" href="/post/double-ssh-tunneling"></a>
        
          <a class="page-link" href="/archives/1327/"></a>
        
          <a class="page-link" href="/post/programmers-way-to-vote-on-doodle"></a>
        
          <a class="page-link" href="/archives/1388/"></a>
        
          <a class="page-link" href="/post/the-country-that-killed-wal-mart"></a>
        
          <a class="page-link" href="/archives/1501/"></a>
        
          <a class="page-link" href="/post/epson-nx420-no-ink-no-scanning"></a>
        
          <a class="page-link" href="/archives/1524/"></a>
        
          <a class="page-link" href="/post/visualization-of-pythons-pseudorandom-function"></a>
        
          <a class="page-link" href="/archives/1559/"></a>
        
          <a class="page-link" href="/post/reasons-why-i-dont-like-ndas"></a>
        
          <a class="page-link" href="/archives/1600/"></a>
        
          <a class="page-link" href="/post/thoughts-about-computer-science"></a>
        
          <a class="page-link" href="/archives/1627/"></a>
        
          <a class="page-link" href="/post/inconvenience-of-american-life"></a>
        
          <a class="page-link" href="/post/dreams-come-true"></a>
        
          <a class="page-link" href="/archives/1710/"></a>
        
          <a class="page-link" href="/post/is-there-any-more-software-to-come"></a>
        
          <a class="page-link" href="/archives/1729/"></a>
        
          <a class="page-link" href="/post/downloading-lecture-notes-in-batch"></a>
        
          <a class="page-link" href="/archives/1756/"></a>
        
          <a class="page-link" href="/post/impersonation"></a>
        
          <a class="page-link" href="/archives/1770/"></a>
        
          <a class="page-link" href="/post/what-you-eat-is-what-you-are"></a>
        
          <a class="page-link" href="/archives/1792/"></a>
        
          <a class="page-link" href="/post/how-better-translator-was-born"></a>
        
          <a class="page-link" href="/archives/1811/"></a>
        
          <a class="page-link" href="/post/thoughts-about-computer-science-2"></a>
        
          <a class="page-link" href="/archives/1837/"></a>
        
          <a class="page-link" href="/post/cryptography"></a>
        
          <a class="page-link" href="/archives/1856/"></a>
        
          <a class="page-link" href="/post/better-translator-tips"></a>
        
          <a class="page-link" href="/archives/1861/"></a>
        
          <a class="page-link" href="/post/bayes-theorem"></a>
        
          <a class="page-link" href="/archives/1883/"></a>
        
          <a class="page-link" href="/post/packet-corruption"></a>
        
          <a class="page-link" href="/archives/1889/"></a>
        
          <a class="page-link" href="/post/translation-sample-search"></a>
        
          <a class="page-link" href="/post/crisis-of-better-translator"></a>
        
          <a class="page-link" href="/archives/1920/"></a>
        
          <a class="page-link" href="/post/mathjax-matrix-rendering-issues-with-wordpress-markdown-plugin"></a>
        
          <a class="page-link" href="/post/goodbye-wordpress-hello-jekyll"></a>
        
          <a class="page-link" href="/post/raspberry-pi-gpio"></a>
        
          <a class="page-link" href="/post/to-move-or-not-to-move"></a>
        
          <a class="page-link" href="/post/problems-with-korean-online-banking"></a>
        
          <a class="page-link" href="/post/an-introduction-to-opencl-programming-model"></a>
        
          <a class="page-link" href="/post/salary-war"></a>
        
          <a class="page-link" href="/post/hicuda"></a>
        
          <a class="page-link" href="/post/sparse-matrix-representations"></a>
        
          <a class="page-link" href="/post/the-best-employee-benefits"></a>
        
          <a class="page-link" href="/post/penthouse"></a>
        
          <a class="page-link" href="/post/8percent"></a>
        
          <a class="page-link" href="/post/spoqa-pycon-2016-obfuscation-contest"></a>
        
          <a class="page-link" href="/post/roadtrip-in-australia-prep"></a>
        
          <a class="page-link" href="/post/roadtrip-in-australia-day1"></a>
        
          <a class="page-link" href="/post/roadtrip-in-australia-day2-1"></a>
        
          <a class="page-link" href="/post/roadtrip-in-australia-financial-settlement"></a>
        
          <a class="page-link" href="/post/honest-fund"></a>
        
          <a class="page-link" href="/post/personal-wiki"></a>
        
          <a class="page-link" href="/post/kakaopay-qrcode"></a>
        
          <a class="page-link" href="/redirects.json"></a>
        
          <a class="page-link" href="/pages/2/"></a>
        
          <a class="page-link" href="/pages/3/"></a>
        
          <a class="page-link" href="/pages/4/"></a>
        
          <a class="page-link" href="/pages/5/"></a>
        
          <a class="page-link" href="/pages/6/"></a>
        
      </div>
    </nav>
    -->

    <script>
      (function() {
        var cx = '006822314949201949413:idm5bn05que';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:search></gcse:search>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>WordPress 에서 Jekyll 로</h1>
    <p class="meta">May 15, 2014
     • Sumin Byeon
     • General</p>
  </header>

  <article class="post-content">
  
  
  
  

  
  <div class="error message">
    This article is more than five years old and potentially contains out-dated information.<br/>
    작성한지 5년 이상 지난 게시물입니다. 최신의 정보와 맞지 않는 내용을 포함할 수도 있습니다.
  </div>
  
  
  <p>지금으로부터 약 10년전인 2004년부터 설치형 <a href="http://wordpress.org">WordPress</a>를 사용해서 개인 블로그를 운영하고 있었는데, 이번에 <a href="http://jekyllrb.com">Jekyll</a>을 사용해서 블로그를 만들어보기로 했다. Jekyll은 HTML이나 Markdown 등의 서식으로 작성된 문서들로 정적 웹사이트를 생성해주는 도구다. WordPress 대신 Jekyll을 선택한 이유는</p>

<ul>
  <li>나는 블로그 포스트를 작성할 때 WP에서 제공하는 에디터 대신 텍스트 편집기를 이용해서 Markdown 형식으로 작성한다. 글 작성이 끝나면 WP의 편집기로 복사 &amp; 붙여넣기 하기 때문에 Jekyll을 사용한다면 이 과정을 생략할 수 있다.</li>
  <li>2011년에 정체 불명의 공격자들이 PHP로 작성된 파일 업로더의 취약점을 이용해서 <code class="highlighter-rouge">.htaccess</code> 파일을 조작하고 백도어를 심어놓는 등 심각한 수준의 공격을 감행한 적이 있다.
    <ul>
      <li>정적 웹사이트의 취약점을 찾아서 공격하는 것은 동적인 웹 애플리케이션을 공격하는 것보다 상대적으로 어려운 일이다.</li>
      <li>WP의 아이디/패스워드 사용자 인증보다는 <a href="http://en.wikipedia.org/wiki/Two-step_verification">two-factor authentication</a>으로 보호 받는 GitHub 계정과 SSH 공개키 기반의 사용자 인증이 더 안전하지 않을까.</li>
    </ul>
  </li>
  <li><a href="http://spoqa.com">스포카</a>에서 일 하면서 나의 Git 사용 능력이 비약적으로 향상됐다. 따라서 블로그 글을 관리하는데 Git을 사용한다고 해도 부담이 없다.</li>
  <li><a href="https://pages.github.com">GitHub Pages</a>에서 무료로 정적 페이지 호스팅을 제공한다.</li>
  <li>
    <div><s>WordPress 는 PHP로 작성되었다.</s> (농담)</div>
  </li>
</ul>

<h2 id="jekyll-설치">Jekyll 설치</h2>

<p>먼저, Jekyll을 설치하자.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install jekyll
</code></pre></div></div>

<p>그 다음, Jekyll 디렉토리를 생성하면 된다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new blog
</code></pre></div></div>

<p><code class="highlighter-rouge">blog</code> 디렉토리로 이동하여 다음의 명령어를 실행하면 <code class="highlighter-rouge">http://localhost:4000</code> 에서 생성된 웹사이트를 볼 수 있다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
</code></pre></div></div>

<h2 id="wordpress-포스트-내보내기">WordPress 포스트 내보내기</h2>

<p>WP의 관리자 인터페이스에서 블로그의 내용을 <code class="highlighter-rouge">.xml</code> 파일로 내보내기 할 수 있다. 자세한 내용은 <a href="http://en.support.wordpress.com/export/">이 페이지</a>를 참조.</p>

<h2 id="wordpress-포스트-변환하기">WordPress 포스트 변환하기</h2>

<p>이제 블로그 포스트를 Jekyll이 이해할 수 있는 형식으로 바꿔야 한다.</p>

<p>Jekyll의 불러오기 도구를 설치하자. WP뿐만 아니라 Tumblr, Joomla, Google Reader, Drupal 을 비롯해서 RSS와 <code class="highlighter-rouge">.csv</code> 형식도 지원한다. 지원되는 임포터(importer) 목록을 보고 싶으면 <a href="https://github.com/jekyll/jekyll-import/tree/master/lib/jekyll-import/importers">이 페이지</a>를 보면 된다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install jekyll-import
</code></pre></div></div>

<p>사실 일반적인 경우라면 이렇게 설치하는 것으로 끝이지만, 나의 경우에는 잠시 후에 설명할 포스트 리다이렉트(redirect)를 하기 위해서 WP 포스트의 <code class="highlighter-rouge">post_id</code> 값을 같이 내보내야 했다. 그래서 jekyll-import 프로그램의 소스코드를 약간 수정하기로 했다.</p>

<p><code class="highlighter-rouge">jekyll-import/importers/wordpressdotcom.rb</code> 파일을 보면 다음과 같이 포스트의 정보를 얻어오는 부분이 있다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>date = Time.parse(item.at('wp:post_date').inner_text)
status = item.at('wp:status').inner_text
</code></pre></div></div>

<p>밑에 한 줄 추가해줬다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>post_id = item.at('wp:post_id').inner_text
</code></pre></div></div>

<p>좀 더 밑으로 내려가면 다음과 같이 <a href="http://jekyllrb.com/docs/frontmatter/">YAML front-matter</a> 부분을 채워주기 위한 코드가 있다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>header = {
  'layout' =&gt; type,
  'title'  =&gt; title,
  'categories' =&gt; categories,
  'tags'   =&gt; tags,
  'status'   =&gt; status,
  'type'   =&gt; type,
  'published' =&gt; published,
  'meta'   =&gt; metas,
  'author' =&gt; authors[author_login]
}
</code></pre></div></div>

<p>여기에 <code class="highlighter-rouge">post_id</code> 를 추가해줬다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>header = {
  ...
  'post_id' =&gt; post_id,
  ...
}
</code></pre></div></div>

<p>이제 jekyll-import 프로그램을 실행시킬 차례이다.</p>

<p><a href="https://github.com/jekyll/jekyll-import/blob/master/README.markdown">메뉴얼</a>에는 <code class="highlighter-rouge">jekyll import wordpress --source wordpress.xml</code> 와 같이 해도 된다고 나와있는데, 나는 <code class="highlighter-rouge">Invalid command. Use --help for more information</code> 이런 에러 메세지가 나왔다. 다행히도 <a href="http://import.jekyllrb.com/docs/wordpressdotcom/">Jekyll 문서</a>에는 제대로 된 사용법이 소개 되어 있었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby -rubygems -e 'require "jekyll-import";
    JekyllImport::Importers::WordpressDotCom.run({
      "source" =&gt; "wordpress.xml"
    })'
</code></pre></div></div>

<p><code class="highlighter-rouge">_posts</code> 디렉토리에 <code class="highlighter-rouge">yyyy-mm-dd-title.html</code> 형식의 파일들이 생성된 것을 볼 수 있을 것이다.</p>

<h2 id="포스트-다듬기">포스트 다듬기</h2>

<p>사실 지금 이 상태에서 그대로 올려도 괜찮지만, 나는 깔끔한 블로그를 원하기 때문에 조금 더 공을 들였다. 할 일은 다음과 같다.</p>

<ul>
  <li>불필요한 HTML 태그 없애기 (<code class="highlighter-rouge">&lt;p&gt;</code>, <code class="highlighter-rouge">&lt;br/&gt;</code> 등)</li>
  <li>예전 포스트 리다이렉트(redirect)</li>
  <li>파일 확장자를 <code class="highlighter-rouge">.html</code> 에서 <code class="highlighter-rouge">.markdown</code> 으로 변경</li>
</ul>

<p>300개가 넘는 포스트를 일일이 수작업으로 다듬을 수는 없으니 <a href="https://github.com/suminb/suminb.github.io/blob/master/_posts/convert.py">간단한 스크립트</a>를 만들어서 해결했다.</p>

<h2 id="예전-포스트-리다이렉트">예전 포스트 리다이렉트</h2>

<p>WP에서 쓰던 퍼머링크(permalink)는 <code class="highlighter-rouge">/archieves/${post_id}</code> 형식이었지만, 새 블로그에서 쓸 퍼머링크는 <code class="highlighter-rouge">/post/${title}</code> 형식이다. 사실, 퍼머링크 형식을 그대로 유지할 수도 있었지만, <a href="http://code.tutsplus.com/articles/wordpress-permalinks-101-what-how-when-and-why-to-use-them--wp-22652">적절한 키워드를 포함하는 퍼머링크가 SEO에 도움이 될 수도 있다</a>는 내용을 담은 글을 보고, 대대적인 블로그 데이터 변환 작업을 하는 김에 퍼머링크 형식도 바꾸기로 했다.</p>

<p>예전 퍼머링크 형식으로 접속한 사용자들을 새 링크로 보내줘야 하는데, <a href="https://github.com/jekyll/jekyll-redirect-from">jekyll-redirect-form</a> 플러그인의 도움을 받으면 비교적 수월하게 해결할 수 있다. 플러그인을 설치하고 <code class="highlighter-rouge">_config.yml</code> 에 다음과 같은 내용을 추가해줘야 한다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gems:
  - jekyll-redirect-from
</code></pre></div></div>

<p><a href="https://github.com/suminb/suminb.github.io/blob/master/_posts/convert.py">포스트 변환 스크립트</a>에 의해서 포스트의 <a href="http://jekyllrb.com/docs/frontmatter/">YAML front-matter</a> 부분에 다음과 같이 <code class="highlighter-rouge">redirect_from</code> 항목이 들어가게 된다. WP 포스트를 변환할 때 <code class="highlighter-rouge">post_id</code> 값을 저장하도록 한 이유가 바로 이것이다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>redirect_from:
  - /archives/1234/
</code></pre></div></div>

<h2 id="pagination">Pagination</h2>

<p>모든 글이 한 페이지에 나열되어 있으면 너무 길어지니까 여러 페이지에 나누는 작업도 필요하다. <a href="http://jekyllrb.com/docs/pagination/">Jekyll의 공식 문서</a>를 참고해서 만들었다. 사실 참고했다기보다는 거의 복사 &amp; 붙여넣기 했다. <code class="highlighter-rouge">index.html</code> 파일에 포스트 보여지는 부분 아래쪽에 다음과 같은 코드를 붙여준다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!-- Pagination links --&gt;
{% if paginator.total_pages &gt; 1 %}
&lt;div class="pagination"&gt;
{% if paginator.previous_page %}
  &lt;a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}"&gt;&amp;laquo; Prev&lt;/a&gt;
{% else %}
  &lt;span&gt;&amp;laquo; Prev&lt;/span&gt;
{% endif %}

{% for page in (1..paginator.total_pages) %}
  {% if page == paginator.page %}
    &lt;em&gt;{{ page }}&lt;/em&gt;
  {% elsif page == 1 %}
    &lt;a href="{{ '/index.html' | prepend: site.baseurl | replace: '//', '/' }}"&gt;{{ page }}&lt;/a&gt;
  {% else %}
    &lt;a href="{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}"&gt;{{ page }}&lt;/a&gt;
  {% endif %}
{% endfor %}

{% if paginator.next_page %}
  &lt;a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}"&gt;Next &amp;raquo;&lt;/a&gt;
{% else %}
  &lt;span&gt;Next &amp;raquo;&lt;/span&gt;
{% endif %}
&lt;/div&gt;
{% endif %}
</code></pre></div></div>

<h2 id="mathjax-설치">MathJax 설치</h2>

<p>수식이 들어간 포스트가 많아서 LaTeX를 랜더링 할 수 있는 MathJax도 필요하다. <code class="highlighter-rouge">_layouts/default.html</code> 파일의 아래쪽에 다음과 같이 MathJax 자바스크립트 파일을 포함하도록 하는 코드를 넣었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"&gt;&lt;/script&gt;
</code></pre></div></div>

<p>이렇게 하면 <code class="highlighter-rouge">$$ f(x) = x + 1 $$</code>와 같이 두 개의 달러 사인 (<code class="highlighter-rouge">$$</code>) 사이에 들어간 LaTeX 표현이 랜더링 된다. MathJax 얘기가 나온 김에 제대로 작동 되는지 테스트 해보자.</p>

<script type="math/tex; mode=display">% <![CDATA[
f(n) = \begin{cases} n/2 &\text{if } n \equiv 0 \pmod{2}\\ 3n+1 & \text{if } n\equiv 1 \pmod{2} .\end{cases} %]]></script>

<h2 id="google-analytics-설치">Google Analytics 설치</h2>

<p>먼저, <code class="highlighter-rouge">_config.yml</code> 파일에 다음과 같이 Google Analytics 프로필 아이디를 넣었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>google_analytics_id: UA-xxxxxx-x
</code></pre></div></div>

<p>이렇게 추가된 설정값은 템플릿 언어를 이용하여 <code class="highlighter-rouge">{{ site.google_analytics_id }}</code>와 같이 참조할 수 있다. 그 다음, 아래와 같은 내용을 담은 <code class="highlighter-rouge">_includes/analytics.html</code> 파일을 만들었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% if site.google_analytics_id %}
  &lt;!-- Google Analytics (http://google.com/analytics) --&gt;
  &lt;script type="text/javascript"&gt;
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', '{{ site.google_analytics_id }}']);
    _gaq.push(['_setDomainName', '{{ site.url }}']); // Multiple sub-domains
    _gaq.push(['_setAllowLinker', true]); // Multiple TLDs
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  &lt;/script&gt;
{% endif %}
</code></pre></div></div>

<p>위의 코드 조각은 <a href="https://github.com/jekyll/jekyll-import/blob/master/site/_includes/analytics.html">jekyll-import의 코드</a>에서 가져온 것이다. 그리고 나서 <code class="highlighter-rouge">_layouts/default.html</code> 파일의 아래쪽에 <code class="highlighter-rouge">analytics.html</code> 파일을 포함하도록 만들었다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% include analytics.html %}
</code></pre></div></div>

<h2 id="disqus-댓글-플러그인-설치">Disqus 댓글 플러그인 설치</h2>

<p>포스트 페이지의 레이아웃을 정의하는 <code class="highlighter-rouge">_layouts/post.html</code> 파일을 수정하면 된다. <code class="highlighter-rouge">disqus_identifier</code> 값을 지정해주면 페이지의 URL과 관계 없이 예전에 쓰던 댓글 페이지를 그대로 불러올 수 있다고 공식 문서에 나와있지만<sup id="fnref:disqus_identifier"><a href="#fn:disqus_identifier" class="footnote">1</a></sup>, 작동이 되지 않는것 같다. 이 문제를 해결할때 까지는 당분간 댓글을 닫아놔야 할 것 같다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% if site.disqus %}
&lt;div id="disqus_thread"&gt;&lt;/div&gt;
&lt;script type="text/javascript"&gt;
  var disqus_shortname = 'blog-suminb-com';
  {% if page.meta.dsq_thread_id %}
  var disqus_identifier = '{{ page.meta.dsq_thread_id }}';
  {% endif %}

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
&lt;/script&gt;
&lt;noscript&gt;Please enable JavaScript to view the
    &lt;a href="http://disqus.com/?ref_noscript"&gt;comments powered by Disqus.&lt;/a&gt;
&lt;/noscript&gt;
&lt;a href="http://disqus.com" class="dsq-brlink"&gt;comments powered by
    &lt;span class="logo-disqus"&gt;Disqus&lt;/span&gt;&lt;/a&gt;
{% endif %}
</code></pre></div></div>

<p><code class="highlighter-rouge">disqus_identifier</code> 문제가 해결되지 않는다면 예전 댓글 페이지들을 새 주소로 마이그레이션 해야 되는데<sup id="fnref:disqus_migration"><a href="#fn:disqus_migration" class="footnote">2</a></sup>, 이것도 나름 귀찮은 일이 될 것 같으니 웬만하면 <code class="highlighter-rouge">disqus_identifier</code>를 이용해서 해결할 계획이다.</p>

<h2 id="검색창-달기">검색창 달기</h2>

<p>정적 웹사이트인만큼 자체적으로 검색 기능을 제공하는 일이 쉽지 않다. 그래서 검색 기능은 구글에게 위탁하기로 했다. <a href="https://www.google.com/cse/">Google Custom Search Engine</a> 서비스를 이용하면 간편하게 특정 사이트 내에서만 검색 되는 검색창을 만들 수 있다.</p>

<h2 id="앞으로-할-일">앞으로 할 일</h2>

<p>꽤 많은 작업을 했지만, 아직 할 일이 더 남았다.</p>

<ol>
  <li>
    <div><strike>페이스북 라이브, 트윗 버튼 설치</strike> (완료)</div>
  </li>
  <li>첨부 파일 마이그레이션</li>
  <li>스타일시트 수정 (혹은 새로 만들기) - 지금은 일단 Jekyll의 기본 디자인을 쓰고 있지만, 천천히 바꿔 나갈 생각이다.</li>
  <li>
    <div><strike>도메인 CNAME 수정 - 지금까지는 내 서버에서 운영했지만, 앞으로는 GitHub Pages에서 운영할 계획이다.</strike> (완료)</div>
  </li>
  <li>포스트 리다이렉션 할 때 <code class="highlighter-rouge">&lt;meta&gt;</code> 태그 대신 HTTP 302 메세지 내보내기</li>
  <li>모바일 페이지 지원</li>
</ol>

<h2 id="마무리">마무리</h2>

<p>처음에 생각했던 것과는 다르게 굉장히 거창하고 장대한 작업이 되었다. 겉으로 보기엔 간단한 일이라도 실제로 해보면 일의 복잡도가 처음 예상보다 훨씬 높고 숨어있는 문제들이 많다는걸 다시 한 번 깨닫게 됐다.</p>

<p>그리고 구글 애드센스 광고는 더이상 달지 않기로 했다. 어차피 유의미한 수익이 나올만큼 많은 방문자를 보유한 것도 아닌데 블로그의 미관을 해치는 광고를 넣는 일이 부질없다고 생각했다.</p>

<div class="footnotes">
  <ol>
    <li id="fn:disqus_identifier">
      <p><a href="http://help.disqus.com/customer/portal/articles/472098-javascript-configuration-variables#disqus_identifier">http://help.disqus.com/customer/portal/articles/472098-javascript-configuration-variables#disqus_identifier</a> <a href="#fnref:disqus_identifier" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:disqus_migration">
      <p><a href="http://help.disqus.com/customer/portal/articles/286778-migration-tools">http://help.disqus.com/customer/portal/articles/286778-migration-tools</a> <a href="#fnref:disqus_migration" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

  </article>

  <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
<a class="addthis_button_tweet"></a>
<a class="addthis_counter addthis_pill_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4d8edc142ba2266a"></script>
<!-- AddThis Button END -->


  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'blog-suminb-com'; // required: replace example with your forum shortname
    
    var disqus_identifier = '29543f83c99531881795377465fc56d45cfcfb6b';
    

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <div class="footer-heading">
      <h2>Rubbish Philosopher</h2>
      <p class="site-description">This statement is false.</p>
    </div>


    <div class="footer-col-1 column">
      <ul>
        <li>Subscribe <a href="/feed.xml">via RSS</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/suminb">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">suminb</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/suminb">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username">suminb</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a>
      <p class="license">This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
    </div>

  </div>

</footer>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-346833-1', 'auto', {'allowLinker': true});
  ga('require', 'linker');
  ga('linker:autoLink', ['philosophical.one', 'blog.suminb.com']);
  ga('send', 'pageview');

</script>



    <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
    <!--
    NOTE: Originally, we've been using http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML
    (same MathJax.js file, but with a different configuration), which comes with a somewhat ugly font.
    So we decided to use a different configuration (TeX-AMS_SVG), which is used by StackEdit.
    -->
    <script>
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
    </script>
    </body>
</html>
